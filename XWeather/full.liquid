<style>
  /* Full Layout Specific Styles */
  .weather-icon {
    width: 9rem;
    height: 10rem;
  }

  .main-icon {
    width: 9rem;
    height: 7.5rem;
  }

  .weather-display {
    width: 100%;
    max-width: 750px;
    flex-direction: column;
  }

  .header-section {
    align-items: top;
  }

  .temp-section {
    display: flex;
  }
  
  .location-block .location-title {
    font-size: 2.5rem;
  }

  .location-block .update-time {
    font-size: 1rem;
  }

  .temp-section {
    gap: 1rem;
  }

  .main-temp {
    font-size: 5rem;
  }

  .feels-like-temp {
    font-size: 1.25rem;
  }

  .stats-container {
    grid-template-columns: repeat(2, 1fr);
    gap: .75rem 2.5rem;
    margin-bottom: 1rem;
  }

  .stat-item {
    gap: 0.75rem;
    padding-left: .5rem;
    padding-top: .5rem;
  }

  .stat-icon {
    width: 3rem;
    height: 3rem;
  }

  .stat-title {
    font-size: 1.4rem;
  }

  .stat-number {
    font-size: 1.6rem;
  }

  .stat-time {
    font-size: 1.2rem;
  }

  .stat-unit {
    font-size: 1.2rem;
  }

  .stat-sub {
    font-size: 1.1rem;
    line-height: normal;
  }

</style>

{%- if response -%}
<div class="layout">
  <div class="weather-display">
    <!-- Header with Location and Main Temperature -->
    <div class="header-section">
      <div class="location-block">
        <h1 class="location-title">{{ trmnl.plugin_settings.custom_fields_values.location_name | default: "My Weather Station"}}</h1>
       <p class="update-time text--gray-30">Updated: &nbsp; {{- response.ob.timestamp | date: "%s" | plus: trmnl.user.utc_offset | date: "%b %d, %Y, %I:%M %p" -}}</p>
      </div>

      <div class="temp-section">
        <div class="main-icon">
          <img src="{{ icon_url }}" alt="{{ response.ob.weather }}" class="weather-icon">
        </div>
        <div class="main-temp">
          {%- if system == "metric" -%}
          {{- response.ob.tempC | round -}}&deg;
          <span class="feels-like-temp text--gray-30">Feels like {{ response.ob.feelslikeC | round }}&deg;</span>
          {%- else -%}
          {{- response.ob.tempF | round -}}&deg;
          <span class="feels-like-temp text--gray-30">Feels like {{ response.ob.feelslikeF | round }}&deg;</span>
          {%- endif -%}
        </div>
      </div>
    </div>

    <!-- Weather Statistics Grid -->
    <div class="stats-container">
      <!-- Humidity with Dewpoint -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_humidity }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Humidity</div>
          <div class="stat-number">{{- response.ob.humidity -}}<span class="stat-unit text--gray-30">%</span></div>
          {%- if system == "metric" -%}
            <div class="stat-sub text--gray-30">Dewpoint: {{ response.ob.dewpointC | round }}&deg;C</div>
          {%- else -%}
            <div class="stat-sub text--gray-30">Dewpoint: {{ response.ob.dewpointF | round }}&deg;F</div>
          {%- endif -%}
        </div>
      </div>

      <!-- Wind Speed and Direction -->
      <div class="stat-item">
        <div class="stat-icon" style="{{ wind_rotation }}">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_wind_deg }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Wind ({{- response.ob.windDir -}})</div>
          {%- if system == "metric" -%}
            <div class="stat-number">{{- response.ob.windSpeedKPH | round -}}<span class="stat-unit text--gray-30">kph</span></div>
            {%- if response.ob.windGustKPH -%}
              <div class="stat-sub text--gray-30">Gusts to {{ response.ob.windGustKPH | round }} kph</div>
            {%- endif -%}
          {%- else -%}
            <div class="stat-number">{{- response.ob.windSpeedMPH | round -}}<span class="stat-unit text--gray-30">mph</span></div>
            {%- if response.ob.windGustMPH -%}
              <div class="stat-sub text--gray-30">Gusts to {{ response.ob.windGustMPH | round }} mph</div>
            {%- endif -%}
          {%- endif -%}
        </div>
      </div>

      <!-- Barometric Pressure -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_barometer }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Pressure</div>
          {%- if system == "metric" -%}
            <div class="stat-number">{{- response.ob.pressureMB | round -}}<span class="stat-unit text--gray-30">hPa</span></div>
          {%- else -%}
            <div class="stat-number">{{- response.ob.pressureIN | round: 2 -}}<span class="stat-unit text--gray-30">inHg</span></div>
          {%- endif -%}
        </div>
      </div>

      <!-- Daily Precipitation -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_showers }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Precipitation (Daily)</div>
          {%- if system == "metric" -%}
          <div class="stat-number">{{- response.ob.precipMM | default: 0.0 | round: 1 -}}<span class="stat-unit text--gray-30">mm</span></div>
          {%- else -%}
          <div class="stat-number">{{- response.ob.precipIN | default: 0.0 | round: 2 -}}<span class="stat-unit text--gray-30">in</span></div>
          {%- endif -%}
        </div>
      </div>

      <!-- UV Index -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_hot }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">UV Index</div>
          <div class="stat-number">{{- response.ob.uvi | default: response.ob.uv | default: 0 -}}</div>
        </div>
      </div>

      <!-- Solar Radiation -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_thermometer }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Solar Radiation</div>
          <div class="stat-number">{{- response.ob.solradWM2 | default: 0 -}}<span class="stat-unit text--gray-30">W/mÂ²</span></div>
        </div>
      </div>

      <!-- Sunrise/Sunset Times -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_horizon_alt }}" />
          </svg>
        </div>
        <div class="stat-content">
          <span class="stat-title text--gray-30">Rise: <span class="stat-time"> {{ response.ob.sunrise | date: "%s" | plus: trmnl.user.utc_offset | date: "%I:%M %p" }}</span></span>
          <span class="stat-title text--gray-30">Set: <span class="stat-time"> {{ response.ob.sunset | date: "%s" | plus: trmnl.user.utc_offset | date: "%I:%M %p" }} </span></span>
        </div>
      </div>

      <!-- Lightning Activity -->
      <div class="stat-item">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="currentColor">
            <path d="{{ icon_lightning }}" />
          </svg>
        </div>
        <div class="stat-content">
          <div class="stat-title text--gray-30">Lightning (1hr)</div>
          <div class="stat-number">{{- response.ob.lightningStrikeCountLast1hr | default: 0 -}}<span
              class="stat-unit">strikes</span></div>
        </div>
      </div>
    </div>
  </div>
</div>
{%- endif -%}